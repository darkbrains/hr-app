<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>People Connect</title>
    <link rel="stylesheet" href="/static/styles.css?=v3">
    <link rel="shortcut icon" type="image/x-icon" href="/static/background_c.webp?v=3">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        #user-info {
            position: absolute;
            top: 10px;
            right: 10px;
            border: 1px solid #ccc;
            padding: 5px 10px;
            background: linear-gradient(145deg, #fffff0 0%, #ecfcfd 125%);
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <select id="language-selector">
        <option value="en">English</option>
        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
        <option value="hy">’Ä’°’µ’•÷Ä’•’∂</option>
    </select>
    <div id="user-info">
        {% if user_data %}
        <p id="user-greeting">Welcome, {{ user_data.name }} {{ user_data.surname }}! Have a nice day! üòä</p>
        {% else %}
        <p id="user-greeting">Welcome! Please login.</p>
        {% endif %}
    </div>
    </div>
    <div class="container">
        <form id="interviewForm" action="/submit" method="POST">
            <input type="hidden" name="auth_token" value="{{ auth_token }}">
            <input type="hidden" name="lang" id="form-lang"  value="{{ lang }}">
            <div id="questions-container">
                <div class="error" style="display:none;"></div>
            </div>

            <div id="navigation-buttons">
                <button type="button" id="prevButton">Previous</button>
                <button type="button" id="nextButton">Next</button>
                <button type="submit" id="submit-btn" style="display:none;">Submit</button>
            </div>
            <div id="progress"></div>
        </form>
    </div>

    <script>
        const languageSelector = document.getElementById('language-selector');
        const questionsContainer = document.getElementById('questions-container');
        const formLangInput = document.getElementById('form-lang');

        const translations = {
            en: {
                questions: [
                {
                    text: "Describe your working style:",
                    options: [
                        { text: "Independently", value: "4" },
                        { text: "As part of a team", value: "3" },
                        { text: "In a leadership role", value: "2" },
                        { text: "Flexible/Adaptable to any style", value: "1" }
                    ]
                },
                {
                    text: "How do you handle stress and pressure?",
                    options: [
                        { text: "Through physical activity or meditation", value: "3" },
                        { text: "Ignoring it until the stressful period is over", value: "1" },
                        { text: "By planning and prioritizing tasks", value: "4" }
                    ]
                },
                {
                    text: "What motivates you at work?",
                    options: [
                        { text: "Achieving goals", value: "4" },
                        { text: "Helping others", value: "3" },
                        { text: "Recognition and rewards", value: "1" },
                        { text: "Personal development", value: "2" }
                    ]
                },
                {
                    text: "Describe your approach to problem-solving:",
                    options: [
                        { text: "Creative and intuitive", value: "3" },
                        { text: "Analytical and methodical", value: "4" },
                        { text: "I ask for help when needed", value: "1" },
                        { text: "Practical and straightforward", value: "2" }
                    ]
                },
                {
                    text: "How do you prioritize your work?",
                    options: [
                        { text: "I struggle with prioritization", value: "1" },
                        { text: "By task importance", value: "3" },
                        { text: "Based on supervisor direction", value: "2" },
                        { text: "By deadline", value: "4" }
                    ]
                },
                {
                    text: "How do you handle criticism?",
                    options: [
                        { text: "I use it as motivation", value: "1" },
                        { text: "I take it constructively to improve", value: "4" },
                        { text: "I find it difficult to accept", value: "2" },
                        { text: "It depends on who it comes from", value: "3" }
                    ]
                },
                {
                    text: "What is your greatest strength?",
                    options: [
                        { text: "Communication skills", value: "4" },
                        { text: "Problem-solving skills", value: "2" },
                        { text: "Leadership abilities", value: "3" },
                        { text: "Ability to learn quickly", value: "1" }
                    ]
                },
                {
                    text: "What is your greatest weakness?",
                    options: [
                        { text: "Hesitation to delegate", value: "3" },
                        { text: "Taking on too much work", value: "2" },
                        { text: "Impatience", value: "4" },
                        { text: "Being too detail-oriented", value: "1" }
                    ]
                },
                {
                    text: "How do you manage conflicts in a team?",
                    options: [
                        { text: "By consulting with a supervisor", value: "1" },
                        { text: "By avoiding conflict situations", value: "2" },
                        { text: "By addressing issues directly", value: "4" },
                        { text: "By mediating between parties", value: "3" }
                    ]
                },
                {
                    text: "Describe a time when you failed in this role and the lesson you learned.",
                    options: [
                        { text: "I have never failed in my role.", value: "1" },
                        { text: "The failure was due to poor time management, and I've since improved my prioritization skills.", value: "2" },
                        { text: "The failure was due to miscommunication, and I've worked on improving my communication skills.", value: "3" },
                        { text: "The failure was due to a lack of skill, and I pursued additional training.", value: "4" }
                    ]
                },
                {
                    text: "Why do you want to work here?",
                    options: [
                        { text: "Other", value: "1" },
                        { text: "The company's culture", value: "4" },
                        { text: "The company's products/services", value: "2" },
                        { text: "Career growth opportunities", value: "3" }
                    ]
                },
                {
                    text: "What are your career goals?",
                    options: [
                        { text: "To move into a leadership position", value: "4" },
                        { text: "To specialize in my current field", value: "3" },
                        { text: "I'm not sure yet", value: "1" },
                        { text: "To transition to a different industry", value: "2" }
                    ]
                },
                {
                    text: "How do you keep up-to-date with industry trends?",
                    options: [
                        { text: "I find it difficult to keep up", value: "1" },
                        { text: "Attending workshops and conferences", value: "3" },
                        { text: "Reading professional journals", value: "4" },
                        { text: "Networking with industry professionals", value: "2" }
                    ]
                },
                {
                    text: "How do you evaluate success?",
                    options: [
                        { text: "By receiving feedback from peers and supervisors", value: "2" },
                        { text: "By the impact of my work on the company's success", value: "1" },
                        { text: "By achieving personal goals", value: "4" },
                        { text: "By achieving team/department goals", value: "3" }
                    ]
                },
                {
                    text: "What was the last project you led, and what was its outcome?",
                    options: [
                        { text: "Successfully completed, but over budget", value: "3" },
                        { text: "Failed to complete", value: "2" },
                        { text: "Successfully completed on time", value: "4" },
                        { text: "Led to an unexpected positive outcome", value: "1" }
                    ]
                },
                {
                    text: "How do you handle a situation where you don't know the answer?",
                    options: [
                        { text: "Research until I find the answer", value: "4" },
                        { text: "Avoid the situation", value: "1" },
                        { text: "Ask a colleague or supervisor for guidance", value: "3" },
                        { text: "Use my best judgment and proceed", value: "2" }
                    ]
                },
                {
                    text: "How do you approach learning a new skill or technology?",
                    options: [
                        { text: "Cautiously but willing to try", value: "3" },
                        { text: "Reluctantly, only if necessary", value: "2" },
                        { text: "I prefer to stick with what I know", value: "1" },
                        { text: "With enthusiasm and determination", value: "4" }
                    ]
                },
                {
                    text: "Describe how you've worked under a tight deadline.",
                    options: [
                        { text: "Delegated tasks to others", value: "2" },
                        { text: "Prioritized tasks and worked efficiently", value: "4" },
                        { text: "Worked long hours to meet the deadline", value: "3" },
                        { text: "Missed the deadline", value: "1" }
                    ]
                },
                {
                    text: "How do you contribute to a positive work environment?",
                    options: [
                        { text: "By contributing to team goals", value: "2" },
                        { text: "Other", value: "1" },
                        { text: "By being supportive of colleagues", value: "4" },
                        { text: "By maintaining a positive attitude", value: "3" }
                    ]
                },
                {
                    text: "What motivates you at work?",
                    options: [
                        { text: "Competitives", value: "4" },
                        { text: "Collaborative", value: "3" },
                        { text: "Independent", value: "1" },
                        { text: "Flexible", value: "2" }
                    ]
                }
                ]
            },
            ru: {
                questions: [
                    {
                        text: "–û–ø–∏—à–∏—Ç–µ –≤–∞—à —Å—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã:",
                        options: [
                            { text: "–ù–µ–∑–∞–≤–∏—Å–∏–º–æ", value: "4" },
                            { text: "–í —Å–æ—Å—Ç–∞–≤–µ –∫–æ–º–∞–Ω–¥—ã", value: "3" },
                            { text: "–í —Ä–æ–ª–∏ –ª–∏–¥–µ—Ä–∞", value: "2" },
                            { text: "–ì–∏–±–∫–∏–π/–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∫ –ª—é–±–æ–º—É —Å—Ç–∏–ª—é", value: "1" }
                        ]
                    },
                    {
                        text: "–û–ø–∏—à–∏—Ç–µ –≤–∞—à —Å—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã:1111",
                        options: [
                            { text: "–ù–µ–∑–∞–≤–∏—Å–∏–º–æ", value: "4" },
                            { text: "–í —Å–æ—Å—Ç–∞–≤–µ –∫–æ–º–∞–Ω–¥—ã", value: "3" },
                            { text: "–í —Ä–æ–ª–∏ –ª–∏–¥–µ—Ä–∞", value: "2" },
                            { text: "–ì–∏–±–∫–∏–π/–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∫ –ª—é–±–æ–º—É —Å—Ç–∏–ª—é", value: "1" }
                        ]
                    },

                ]
            },
            hy: {
                questions: [
                    {
                        text: "’Ü’Ø’°÷Ä’°’£÷Ä’•÷Ñ ’±’•÷Ä ’°’∑’≠’°’ø’°’∂÷Ñ’´ ’∏’≥’®:",
                        options: [
                            { text: "‘±’∂’Ø’°’≠", value: "4" },
                            { text: "‘π’´’¥’´ ’¥’°’Ω’∂’°’Ø’´÷Å", value: "3" },
                            { text: "‘ø’°’º’°’æ’°÷Ä’¥’°’∂ ’§’•÷Ä’∏÷Ç’¥", value: "2" },
                            { text: "’ì’∏÷É’∏’≠’æ’∏’≤/‘±’§’°’∫’ø’´’æ ’∏’≥’´", value: "1" }
                        ]
                    },

                ]
            }
        };

        function updateLanguage(lang) {
            formLangInput.value = lang;
            const data = translations[lang];
            questionsContainer.innerHTML = '';

            data.questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.id = `question${index + 1}`;
                questionDiv.innerHTML = `<p>${index + 1}. ${q.text}</p>`;

                q.options.forEach(option => {
                    const label = document.createElement('label');
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.name = `q${index + 1}`;
                    input.value = option.value;
                    input.required = true;
                    label.appendChild(input);
                    label.append(option.text);
                    questionDiv.appendChild(label);
                });

                questionsContainer.appendChild(questionDiv);
            });
        }
        languageSelector.value = formLangInput.value;
            updateLanguage(formLangInput.value);

        languageSelector.addEventListener('change', function() {
            updateLanguage(this.value);
        });

    </script>
 <script>
    $(document).ready(function() {
        const languageSelector = $('#language-selector');
        const questionsContainer = $('#questions-container');
        let currentQuestionIndex = 0;
        let totalQuestions = translations[languageSelector.val()].questions.length;

        function loadQuestions(lang) {
            const questions = translations[lang].questions;
            questionsContainer.empty();
            questions.forEach((q, index) => {
                const questionDiv = $('<div>', { class: 'question', id: `question${index + 1}`, style: 'display: none;' });
                const questionText = $('<p>').text(`${index + 1}. ${q.text}`);
                const errorDiv = $('<div>', { class: 'error', text: 'This answer is required.', style: 'display: none; color: red;' });


                questionDiv.append(questionText);
                q.options.forEach(option => {
                    const label = $('<label>');
                    const input = $('<input>', { type: 'radio', name: `q${index + 1}`, value: option.value, required: true });
                    label.append(input, option.text);
                    questionDiv.append(label);
                });

                questionDiv.append(errorDiv);
                questionsContainer.append(questionDiv);
            });

            totalQuestions = questions.length;
            currentQuestionIndex = 1;
            showQuestion(currentQuestionIndex);
            initializeProgress();
        }

        function showQuestion(number) {
            $('.question').hide();
            $(`#question${number}`).show();
            updateProgress(number);
            updateNavigationButtons(number);
        }

        function updateNavigationButtons(number) {
            $('#prevButton').toggle(number > 1);
            $('#nextButton').toggle(number < totalQuestions);
            $('#submit-btn').toggle(number === 20);
        }


        function initializeProgress() {
            const progressContainer = $('#progress');
            progressContainer.empty();
            for (let i = 1; i <= totalQuestions; i++) {
                const circle = $('<span>').addClass('circle');
                progressContainer.append(circle);
            }
            updateProgress(1);
        }

        function updateProgress(index) {
            $('.circle').slice(0, index).addClass('answered');
        }

        function validateQuestion() {
            const inputs = $(`#question${currentQuestionIndex} input[type="radio"]`);
            const errorDiv = $(`#question${currentQuestionIndex} .error`);

            if (inputs.is(':checked')) {
                errorDiv.hide();
                return true;
            } else {
                errorDiv.show();
                return false;
            }
        }

        $('#nextButton').click(function() {
            if (validateQuestion()) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            }
        });


        $('#prevButton').click(function() {
            if (currentQuestionIndex > 1) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        });


        languageSelector.change(function() {
            loadQuestions(this.value);
            currentQuestionIndex = 1;
        });

        loadQuestions(languageSelector.val());
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const languageSelector = document.getElementById('language-selector');
            const userGreeting = document.getElementById('user-greeting');

            const translations = {
                'en': 'Welcome, {{ user_data.name }} {{ user_data.surname }}! Have a nice day! üòä',
                'ru': '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user_data.name }} {{ user_data.surname }}! –ñ–µ–ª–∞–µ–º —Ö–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è! üòä',
                'hy': '‘≤’°÷Ä’´ ’£’°’¨’∏÷Ç’Ω’ø, {{ user_data.name }} {{ user_data.surname }}! ’Ä’°’≥’•’¨’´ ÷Ö÷Ä ’∏÷Ç’∂’•÷Å’•÷Ñ! üòä'
            };

            function updateLanguage(lang) {
                userGreeting.textContent = translations[lang];
            }

            languageSelector.addEventListener('change', function() {
                updateLanguage(this.value);
            });

            updateLanguage(languageSelector.value);
        });
        </script>

</body>
</html>